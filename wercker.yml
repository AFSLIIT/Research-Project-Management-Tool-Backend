box: node:latest
build:
  steps:
    - npm-install
    - script:
        name: echo nodejs information
        code: |
          echo "node version $(node -v) running"
          echo "npm version $(npm -v) running"
build-docker:
  steps:
    - internal/docker-build:
        docker-file: Dockerfile
        image-name: research-tool-backend
    - internal/docker-push:
        image-name: research-tool-backend
        username: $USERNAME
        password: $PASSWORD
        registry: afsliit.azurecr.io
        repository: $USERNAME/research-tool-backend
